<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>UO User Page</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">
    <link rel="stylesheet" href="./styles/styles.css" media="screen" title="no title">

    <!-- <script src="https://code.jquery.com/jquery.js"></script> -->
    <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>

</head>

<body>

    <div class="usercont1">
        <div class="logoutbtn">
            

            <!-- ----------------------------------------- -->
            <div class="notificationwrapper">
            <button type="button" id ="modalOpen" class="notificationbtn1" data-toggle="modal" data-target="#exampleModal">
                NOTIFICATION
               </button>
         
               <div class="notificationdiv" style="display:none">
               <div class="modal" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                 <div class="modal-dialog" role="document">
                   <div class="modal-content">
                     <div class="modal-header">
                       <h5 class="modal-title" id="title"></h5>
                       
                     </div>
                     <div class="modal-body">
                         <h5 class="h3 ml-5 mb-3"id="message"></h5>
                     </div>
                     <div class="modal-footer">
                       <button type="button" id ="reject" class="btn btn-secondary needApprove" value= "" data-dismiss="modal">Reject</button>
                       <button type="button" id="accept" class="btn btn-primary needApprove" value="" data-dismiss="modal">Accept</button>
                     </div>
                   </div>
                 </div>
               </div>
         
             </div>
            </div>

             <!-- ----------------------------- -->


             <button type="submit" id="logout" class="btnaddtrans">Log Out</button>

        </div>
        <div class="head-picuser">
            <div class="photo-usercont1">

                <div class="photo-usercont2">
                    <img src="./images/45500630.jpeg" class="idphotouser" style="width:200px;height:200px" alt=“…”
                        id="userphoto">


                </div>
            </div>
        </div>
        <div class="contentswrapper">
            <div class="contents">
                <div class="addphotowrap" style="display:none">

                    <div class="addphotocontain">

                        <div class="adduserphoto">

                            <!-- <div class="camicon"><img src="./images/Antu_folder-camera.png"
                                                style="width:60px;height:60px" alt=“…”></div> -->
                            <button type="button" id="upload_widget" class="cloudinarybutton camicon"><img
                                    src="./images/Antu_folder-camera.png" style="width:60px;height:60px"
                                    alt=“…”></button>

                            <!-- <div class="cloudinarybtn" ><form action='/api/images' method="post" enctype="multipart/form-data">
                                    <input type='file' name='image' />
                                </form>
                            </div> -->

                        </div>
                    </div>
                </div>

                <div class="usernamewrap">
                    <div class="usernamecontain">
                        <h2>Hello <span class="user-name"></span></h2>
                    </div>
                </div>

                <div class="addtranswrap">
                    <div class="addtranscont">
                        <button id="btnaddtransid" type="submit" class="btnaddtrans">Add Transaction</button>
                    </div>
                </div>
                <br>

                <div class="notificationwrap">
                    <div class="notificationcontain">
                        Balance: $<span id="balanceDisplay"></span>
                    </div>
                </div>
                <div class="transactionswrap">
                    <div class="moneyyougave">
                        <div class="moneyupdateyougave">
                            <div class="contfortitle">
                                <div class="moneyyougivetitle">
                                    <div>U</div>
                                    <p id="Up"></p>
                                </div>
                            </div>
                            <div class="contforinputs">
                                <div class="gaveInputs">
                                    <div id="UDIV"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="moneyyouowe">
                        <div class="moneyupdateyouowe">
                            <div class="contfortitle">
                                <div class="moneyyouowetitle">
                                    <div>O</div>
                                    <p id="Op"></p>
                                </div>
                            </div>
                            <div class="contforinputs">
                                <div class="oweInputs">
                                    <div id="ODIV"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div id="overlay-addtrans" style="display:none">

        <div class="transactionmodalwrap">
            <div class="trasactionmodalcontainer">
                <div class="trasactionmodalcontents">

                    <div>
                        <h3>Log a New Transaction</h3>
                    </div>

                    <div>
                        <span>User Name (based on ID): </span><span class="username-from-DB">Blank</span>
                    </div>

                    <div>
                        <!-- ADDED POST -->
                        <form>
                            <div class="lendersinputwrap">
                                <div class="form-group">
                                    <p><label for="borrowersemail">Lend to</label></p>
                                    <input type="email" name="borrowersemail" class="borrowersemail"
                                        id="borrowersemailid" aria-describedby="emailHelp"
                                        placeholder="Borrower's Email">
                                </div>

                                <div class="form-group">
                                    <p><label for="amount">Amount</label></p>
                                    <input type="money" default="USD" name="amount" class="amounttogive"
                                        id="amounttogiveid" placeholder="Enter Amount">
                                </div>
                                <div class="form-group">
                                    <p><label for="datetopay">Due Date</label></p>
                                    <input type="date" name="datetopay" class="datetopay" id="datetopayid"
                                        placeholder="Enter Due Date">
                                </div>
                                <div class="form-group">
                                    <p><label for="msg">Message</label></p>
                                    <input type="text" name="msg" class="msgtoborrower" id="msgtoborrowerid"
                                        placeholder="Send a message to the borrower!">
                                </div>

                                <div class="sendwrap">
                                    <div class="sendcont">
                                        <button id="sendbtnid" type="submit" class="btnsend">Send</button>
                                    </div>
                                </div>

                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
        <div class="footer2">
            <p class="pfooter">Back</p>
        </div>
    </div>

    <!-- REMINDER MODAL -->

    <div id="overlay-rem" style="display:none">

        <div class="remindercont1">

            <div class="remindercont2">

                <div>
                    <div>
                        REMINDER
                    </div>
                </div>
                <form action="">
                    <div class="remindermodalwrap">

                        <div class="form-group3">
                            <p><label for="datenotify">Reminder Date</label></p>
                            <input type="date" name="datenotify" class="datenotifyclass inputrem" id="datenotifyid"
                                placeholder="Enter Reminder Date">
                        </div>

                        <div class="form-group3">
                            <p><label for="borrowersemail">Remind this Email</label></p>
                            <input type="email" name="borrowersemail" class="borrowersemailreminder inputrem"
                                id="borrowersemailid" aria-describedby="emailHelp" placeholder="Borrower's Email">
                        </div>

                        <div class="form-group3">
                            <p><label for="remmsg">Message</label></p>
                            <input type="text" name="remmsg" class="remmsgtoborrower inputrem" id="remmsgtoborrowerid"
                                placeholder="Send a message to the borrower!">
                        </div>
                    </div>
                </form>
                <div class="sendwrap">
                    <div class="remcont">
                        <button id="rembtnid" type="submit" class="btnrem">Set Reminder</button>
                        <button id="closebtnid" type="submit" class="btnrem">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
 

    <!-- ------------------------------------------------ -->

    <!-- PAY MODAL -->

    <div id="overlay-pay" style="display:none">

        <div class="paycont1">

            <div class="paycont2">

                <div>
                    <div>
                        PAY
                    </div>
                </div>
                <form action="">
                    <div class="paymodalwrap">

                        <div class="form-group4">
                            <p><label for="datepay">Pay Date</label></p>
                            <input type="date" name="datepay" class="datepayclass inputpaymodal" id="datenotifyid"
                                placeholder="Enter Reminder Date">
                        </div>

                        <div class="form-group4">
                            <p><label for="lendersemail">Notify this Email</label></p>
                            <input type="email" name="lendersemail" class="lendersemailpay inputpaymodal"
                                id="borrowersemailid" aria-describedby="emailHelp" placeholder="Borrower's Email">
                        </div>

                        <div class="form-group4">
                            <p><label for="paymsg">Message</label></p>
                            <input type="text" name="paymsg" class="paytolender inputpaymodal" id="remmsgtoborrowerid"
                                placeholder="Send a message to the borrower!">
                        </div>
                    </div>
                </form>
                <div class="sendwrap">
                    <div class="paycont3">
                        <button id="rembtnid" type="submit" class="btnpaymodal">Pay</button>
                        <button id="closebtnid2" type="submit" class="btnpaymodal">Close</button>
                    </div>
                </div>
            </div>
        </div>

    </div>


    <!-- ------------------------------------------------ -->
    <script type="text/javascript">
        var userImage;
        var myWidget = cloudinary.createUploadWidget({
            cloudName: 'dushe8phr',
            uploadPreset: 'pzuiyhku'
        }, (error, result) => {
            if (!error && result && result.event === "success") {
                console.log('Done! Here is the image info: ', result.info.url);
                userImage = result.info.url;

                if (result.event === "success") {

                    let publicId = result.public_id;
                    let thumbnailUrl = result.thumbnail_url;
                    let url = result.url;

                    //send image info to our database

                }


            }
            document.getElementById("userphoto").setAttribute("src", userImage);
        }
        )

        document.getElementById("upload_widget").addEventListener("click", function () {
            myWidget.open();
        }, false);

    </script>

    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.17.0/moment.min.js" type="text/javascript"></script>
    <script src="./js/index.js" type="text/javascript"></script>
    <script src="js/users.js" type="text/javascript"></script>
    <script src="js/logout.js" type="text/javascript"></script>
    <script src="js/trans.js" type="text/javascript"></script>
    <script src="js/approve.js" type="text/javascript"></script>

</body>

</html>